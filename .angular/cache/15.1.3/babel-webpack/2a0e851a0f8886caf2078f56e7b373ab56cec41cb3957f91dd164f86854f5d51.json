{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/cart.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../services/users.service\";\nimport * as i4 from \"@angular/common\";\nfunction CartComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 16)(1, \"div\", 17)(2, \"div\", 18)(3, \"div\", 19)(4, \"div\", 20);\n    i0.ɵɵelement(5, \"img\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 22)(7, \"p\", 23);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 24)(10, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function CartComponent_div_12_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.QuantityDown(item_r1));\n    });\n    i0.ɵɵelementStart(11, \"span\", 26);\n    i0.ɵɵtext(12, \"-\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(13, \"input\", 27);\n    i0.ɵɵelementStart(14, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function CartComponent_div_12_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.QuantityUp(item_r1));\n    });\n    i0.ɵɵelementStart(15, \"span\", 29);\n    i0.ɵɵtext(16, \"+\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"div\", 30)(18, \"h5\", 6);\n    i0.ɵɵtext(19);\n    i0.ɵɵpipe(20, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"div\", 30)(22, \"h5\", 6);\n    i0.ɵɵtext(23);\n    i0.ɵɵpipe(24, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"div\", 31)(26, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function CartComponent_div_12_Template_button_click_26_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.deletefromcart(item_r1));\n    });\n    i0.ɵɵtext(27, \"remove item\");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵpropertyInterpolate(\"src\", item_r1.product.img, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r1.product.title);\n    i0.ɵɵadvance(5);\n    i0.ɵɵpropertyInterpolate(\"value\", item_r1.quantity);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"Price:\", i0.ɵɵpipeBind1(20, 5, item_r1.product.price * item_r1.quantity), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(24, 7, item_r1.product.price));\n  }\n}\nexport class CartComponent {\n  constructor(cartService, router, userService, activeRoute) {\n    this.cartService = cartService;\n    this.router = router;\n    this.userService = userService;\n    this.activeRoute = activeRoute;\n    this.users = [];\n    this.products = [];\n    this.items = this.cartService.getItems();\n    this.totalPrice = this.cartService.gettotalprice();\n  }\n  ngOnInit() {\n    const email = this.activeRoute.snapshot.params['email'];\n    this.products = this.cartService.getItems();\n    //this.users = this.userService.getUsers()\n    this.loggedIn = this.users.find(user => user.email === email);\n  }\n  removeItem(item) {\n    this.cartService.removeFromCart(item);\n  }\n  clearCart() {\n    this.cartService.clearCart();\n    this.items = this.cartService.getItems();\n    this.totalPrice = 0;\n  }\n  deletefromcart(product) {\n    this.cartService.removeFromCart(product);\n    this.totalPrice -= product.product.price * product.qty;\n  }\n  QuantityUp(product) {\n    this.cartService.QuantityUp(product);\n    this.totalPrice += product.product.price;\n  }\n  QuantityDown(product) {\n    if (product.qty == 1) {\n      this.deletefromcart(product);\n      return;\n    }\n    this.cartService.QuantityDown(product);\n    this.totalPrice -= product.product.price;\n  }\n  checkOut() {\n    return this.cartService.Payment();\n  }\n}\nCartComponent.ɵfac = function CartComponent_Factory(t) {\n  return new (t || CartComponent)(i0.ɵɵdirectiveInject(i1.CartService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.UsersService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\nCartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CartComponent,\n  selectors: [[\"app-cart\"]],\n  decls: 25,\n  vars: 4,\n  consts: [[1, \"h-100\", 2, \"background-color\", \"#eee\"], [1, \"container\", \"h-100\", \"py-5\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"h-100\"], [1, \"col-10\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-4\"], [1, \"fw-normal\", \"mb-0\", \"text-black\"], [1, \"mb-0\"], [1, \"text-muted\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [\"class\", \"card-body\", \"class\", \"cart-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-4\"], [1, \"payment-info\", 2, \"margin-left\", \"10%\"], [1, \"d-flex\", \"justify-content-between\", \"information\"], [1, \"card\"], [1, \"card-body\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"cart-item\"], [1, \"card\", \"rounded-3\", \"mb-4\"], [1, \"card-body\", \"p-4\"], [1, \"row\", \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"col-md-2\", \"col-lg-2\", \"col-xl-2\"], [2, \"height\", \"220px\", 3, \"src\"], [1, \"col-md-3\", \"col-lg-3\", \"col-xl-3\"], [1, \"lead\", \"fw-normal\", \"mb-2\"], [1, \"col-md-3\", \"col-lg-3\", \"col-xl-2\", \"d-flex\"], [\"type\", \"button\", \"data-type\", \"minus\", \"data-field\", \"\", 1, \"quantity-left-minus\", \"btn\", \"btn-danger\", \"btn-number\", 3, \"click\"], [1, \"glyphicon\", \"glyphicon-minus\"], [\"id\", \"form1\", \"min\", \"0\", \"name\", \"quantity\", \"type\", \"text\", 1, \"form-control\", \"form-control-sm\", 3, \"value\"], [\"type\", \"button\", \"data-type\", \"plus\", \"data-field\", \"\", 1, \"quantity-right-plus\", \"btn\", \"btn-success\", \"btn-number\", 3, \"click\"], [1, \"glyphicon\", \"glyphicon-plus\"], [1, \"col-md-3\", \"col-lg-2\", \"col-xl-2\", \"offset-lg-1\"], [1, \"col-md-1\", \"col-lg-1\", \"col-xl-1\", \"text-end\"]],\n  template: function CartComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h3\", 5);\n      i0.ɵɵtext(6, \"Shopping Cart\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\")(8, \"p\", 6)(9, \"span\", 7)(10, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function CartComponent_Template_button_click_10_listener() {\n        return ctx.clearCart();\n      });\n      i0.ɵɵtext(11, \"Clear Cart\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵtemplate(12, CartComponent_div_12_Template, 28, 9, \"div\", 9);\n      i0.ɵɵelementStart(13, \"div\", 10)(14, \"div\", 11)(15, \"div\", 12)(16, \"span\");\n      i0.ɵɵtext(17, \"Total(Incl. taxes)\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"span\");\n      i0.ɵɵtext(19);\n      i0.ɵɵpipe(20, \"currency\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(21, \"div\", 13)(22, \"div\", 14)(23, \"button\", 15);\n      i0.ɵɵlistener(\"click\", function CartComponent_Template_button_click_23_listener() {\n        return ctx.checkOut();\n      });\n      i0.ɵɵtext(24, \"Proceed to Pay\");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"ngForOf\", ctx.items);\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(20, 2, ctx.totalPrice));\n    }\n  },\n  dependencies: [i4.NgForOf, i4.CurrencyPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","CartComponent","constructor","cartService","router","userService","activeRoute","getItems","gettotalprice","ngOnInit","email","snapshot","params","products","loggedIn","users","find","user","removeItem","item","removeFromCart","clearCart","items","totalPrice","deletefromcart","product","price","qty","QuantityUp","QuantityDown","checkOut","Payment","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\hasan\\MyWeb\\src\\app\\cart\\cart.component.html","C:\\Users\\hasan\\MyWeb\\src\\app\\cart\\cart.component.ts"],"sourcesContent":["<section class=\"h-100\" style=\"background-color: #eee;\">\r\n  <div class=\"container h-100 py-5\">\r\n    <div class=\"row d-flex justify-content-center align-items-center h-100\">\r\n      <div class=\"col-10\">\r\n\r\n        <div class=\"d-flex justify-content-between align-items-center mb-4\">\r\n          <h3 class=\"fw-normal mb-0 text-black\">Shopping Cart</h3>\r\n          <div>\r\n            <p class=\"mb-0\"><span class=\"text-muted\"><button class=\"btn btn-danger\" (click)=\"clearCart()\">Clear Cart</button></span></p>\r\n          </div>\r\n        </div>\r\n        <div class=\"card-body\" class=\"cart-item\"  *ngFor=\"let item of items\">\r\n        <div class=\"card rounded-3 mb-4\">\r\n          <div class=\"card-body p-4\">\r\n            <div class=\"row d-flex justify-content-between align-items-center\">\r\n              <div class=\"col-md-2 col-lg-2 col-xl-2\">\r\n                <img src=\"{{item.product.img}}\" style=\"height: 220px;\">\r\n              </div>\r\n              <div class=\"col-md-3 col-lg-3 col-xl-3\">\r\n                <p class=\"lead fw-normal mb-2\">{{item.product.title}}</p>\r\n                \r\n              </div>\r\n              <div  class=\"col-md-3 col-lg-3 col-xl-2 d-flex\">\r\n                 <button type=\"button\" class=\"quantity-left-minus btn btn-danger btn-number\" (click)=\"QuantityDown(item)\" data-type=\"minus\" data-field=\"\">\r\n                  <span class=\"glyphicon glyphicon-minus\">-</span>\r\n                </button>\r\n\r\n                <input  id=\"form1\" min=\"0\" name=\"quantity\" value={{item.quantity}} type=\"text\"\r\n                  class=\"form-control form-control-sm\"/>\r\n                <button type=\"button\" (click)=\"QuantityUp(item)\" class=\"quantity-right-plus btn btn-success btn-number\" data-type=\"plus\" data-field=\"\">\r\n                    <span class=\"glyphicon glyphicon-plus\">+</span>\r\n                </button>\r\n              </div>\r\n              \r\n              <div class=\"col-md-3 col-lg-2 col-xl-2 offset-lg-1\">\r\n                <h5 class=\"mb-0\">Price:{{item.product.price*item.quantity|currency}}</h5>\r\n              </div>\r\n              <div class=\"col-md-3 col-lg-2 col-xl-2 offset-lg-1\">\r\n                <h5 class=\"mb-0\">{{item.product.price|currency}}</h5>\r\n              </div>\r\n              <div class=\"col-md-1 col-lg-1 col-xl-1 text-end\">\r\n                <button class=\"btn btn-danger\" (click)=\"deletefromcart(item)\">remove item</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"col-md-4\">\r\n      <div class=\"payment-info\" style=\"margin-left: 10%;\">\r\n        \r\n          <div class=\"d-flex justify-content-between information\"><span>Total(Incl. taxes)</span>\r\n              <span>{{totalPrice|currency}}</span>\r\n          </div>\r\n      </div>\r\n      </div>\r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n            <button (click)=\"checkOut()\" type=\"button\"  class=\"btn btn-success\">Proceed to Pay</button>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</section>","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { CartProduct } from '../model/cart';\nimport { User } from '../model/user';\nimport { CartService } from '../services/cart.service';\nimport { UsersService } from '../services/users.service';\n\n@Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.css']\n})\nexport class CartComponent implements OnInit {\n  users: User[] = []\n  loggedIn: any\n  public products: any[] = []\n\titems = this.cartService.getItems()\n  totalPrice: number = this.cartService.gettotalprice();\n\n  constructor(private cartService : CartService, private router: Router, private userService: UsersService, private activeRoute:ActivatedRoute) { }\n\t\n  ngOnInit(): void {\n    const email = this.activeRoute.snapshot.params['email']\n    this.products = this.cartService.getItems()\n    //this.users = this.userService.getUsers()\n    this.loggedIn = this.users.find(user => user.email === email)\n  }\n\n  removeItem(item: any){\n    this.cartService.removeFromCart(item);\n  }\n  clearCart() {\n    this.cartService.clearCart();\n    this.items = this.cartService.getItems();\n    this.totalPrice = 0;\n  }\n  deletefromcart(product: CartProduct){\n    this.cartService.removeFromCart(product);\n    this.totalPrice-=product.product.price*product.qty;\n  }\n  QuantityUp(product:CartProduct){\n    this.cartService.QuantityUp(product);\n    this.totalPrice+= product.product.price ;\n  \n  }\n  QuantityDown(product:CartProduct){\n  if(product.qty==1){\n    this.deletefromcart(product);\n    return;\n  }\n  this.cartService.QuantityDown(product);\n  this.totalPrice-= product.product.price ;\n\n  }\n  checkOut() {\n   return this.cartService.Payment();\n  }\n  \n  \n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}